{"ast":null,"code":"import _slicedToArray from\"/home/dan/Code/hourLogger/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import*as React from\"react\";import{Link,useParams}from\"react-router-dom\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PageID=0;var newPage=false;var notSavedFlag=true;export var DayView=function DayView(props){// console.log(document.baseURI);\nvar params=useParams();if(params.date&&params.date!=\"new\"){console.log(\"saw date param:\");console.log(params.date);var str=params.date;props.state.pages.forEach(function(value,i){if(value.date==str){PageID=i;}});}if(params.date==\"new\"){// console.log(\"DayView: newPage\");\nprops.state.pages=[{table:[],goals:\"\",date:new Date().toDateString()}];newPage=true;}// console.log(\"Rendering DayView with: \");\n// console.log(props.state.pages);\nvar main=props.state.pages?/*#__PURE__*/_jsxs(\"main\",{className:\"container-fluid \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row bg-secondary justify-content-center display-4\",children:props.state.pages[PageID].date}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(ActivitiesTable,{state:props.state,setState:props.setState})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsx(Form,{formID:\"Goals\",state:props.state,setState:props.setState})})]})]}):/*#__PURE__*/_jsx(\"main\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[main,/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(Link,{className:\"col-lg-2 pull-lg-4 btn bg-success\",to:\"/\",children:\"Home\"})})]});};var NotSaved=function NotSaved(){if(notSavedFlag){return/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-4 btn bg-warning\",children:\"Warning: Changes to Goals are not saved, click submit button\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"row bg-success\",children:\"Field is up saved\"});};var count=0;function ActivitiesTable(props){var _React$useState=React.useState({hrs:NaN,activity:\"enter activitiy\"}),_React$useState2=_slicedToArray(_React$useState,2),tableEntry=_React$useState2[0],setTableRow=_React$useState2[1];function counter(){count++;return count;}//handleSubmit adds row entry to activity table\nfunction handleSubmit(event){event.preventDefault();// console.log(props.pages[PageID].activity + \"counter:\" + counter());\nif(!locked()){lock();var tempTable=props.state.pages[PageID].table;console.log(\"adding row: \"+tableEntry.hrs);tempTable.push({id:counter(),hrs:tableEntry.hrs,activity:tableEntry.activity});var tempPages=props.state.pages;tempPages[PageID].table=tempTable;props.setState(tempPages);setTableRow({hrs:NaN,activity:\"enter activitiy\"});console.log(\"adding row: \"+props.state.pages[PageID].table[0].hrs);props.setState(function(state){// console.log(state.pages[PageID].table[0].hrs || NaN);\nsendData(state);});unlock();}else{alert(\"could not add activity row\");}var nextField=document.getElementById(\"hours\");if(nextField){nextField.focus();}props.setState(function(value){// console.log(\"after Adding row:\");\n// console.log(value.pages[PageID].table);\nreturn value;});}var tablecounterlock=false;//lock locks table counter\nfunction lock(){tablecounterlock=true;}//unlock unlocks table counter\nfunction unlock(){tablecounterlock=false;}//locked tell you if table counter is locked\n// @returns boolean\nfunction locked(){return tablecounterlock;}function sumHrs(){var count=0;for(var i=0;i<props.state.pages[PageID].table.length;i++){var _row=props.state.pages[PageID].table[i].hrs;if(_row){console.log(_row);count+=_row;}}return count;}//handleChangeActivity updates state of activity on change\nfunction handleChangeActivity(event){setTableRow({activity:event.target.value,hrs:tableEntry.hrs});// console.log(props.value[tempPageID].activity);\n}//handleChangeHrs updates state of hrs on change\nfunction handleChangeHrs(event){setTableRow({activity:tableEntry.activity,hrs:parseFloat(event.target.value)});// console.log(props.pages[PageID].hrs);\n}function hrsOnEnter(event){if(event.keyCode==13){event.preventDefault();var nextField=document.getElementById(\"activity\");if(nextField){nextField.focus();}}}// console.log(\n//   \"ActivityTable rendering\" + props.pages[PageID].table[0].activity\n// );\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{className:\" form-group\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Hours\"}),/*#__PURE__*/_jsx(\"td\",{children:\"description\"})]}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(TableMap,{state:props.state,setState:props.setState}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"hours\",type:\"number\",value:tableEntry.hrs,onChange:handleChangeHrs,onKeyDown:hrsOnEnter})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"activity\",type:\"text\",value:tableEntry.activity,onChange:handleChangeActivity})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control btn btn-outline-secondary\",type:\"submit\",value:\"+\"})})]})]}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"td\",{children:[\"Total: \",sumHrs()]})})]})})});}function sendData(state){if(state.pages[PageID]){// add error handlingprops.pages[PageID].table[1].activity\nconsole.log(\"interval send: \"+state.pages[PageID].date);var JSONStr=JSON.stringify(state.pages[PageID]);var request=new XMLHttpRequest();request.open(newPage?\"post\":\"put\",\"/update/\");request.setRequestHeader(\"Content-Type\",\"application/json\");request.addEventListener(\"load\",function(event){console.log(\"XHR Status code: \",request.status);if(request.status===409){alert(\"The page you are trying to create already exists\");}});console.log(\"SENDDATA:\");console.log(newPage?\"post\":\"put\");console.log(JSONStr);request.send(JSONStr);}}//deleterow deletes row from activity\nfunction deleteRow(id,state,setState){console.log(\"delete row:\"+\"Id: \"+id.toString());var tempA=state.pages[PageID].table;for(var i=0;i<tempA.length;i++){if(tempA[i].id===id){console.log(i);tempA.splice(i,1);var pages=state.pages;pages[PageID].table=tempA;setState({pages:pages});}}console.log(\"DeleteRow:\");console.log(state.pages[PageID].table);sendData(state);}//renderTable returns a react node with table rows corresponding to the activitytable array elements.\nvar TableMap=function TableMap(props){var rows=props.state.pages[PageID].table.map(function(item){console.log(\"DayView: renderTable: updating table with row\"+item.id+item.activity);if(item!=null){return/*#__PURE__*/_jsxs(\"tr\",{id:item.id.toString(),children:[/*#__PURE__*/_jsx(\"td\",{children:item.hrs}),/*#__PURE__*/_jsx(\"td\",{children:item.activity}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",type:\"button\",onClick:function onClick(){return deleteRow(item.id,props.state,props.setState);},children:\"X\"})})]});}else{console.log(\"DayView: renderTable: map is empty\");return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"No entries... yet, time to get some shit done!\"}),/*#__PURE__*/_jsx(\"td\",{children:\"empty\"}),/*#__PURE__*/_jsx(\"td\",{children:\"emtry\"})]});}});return/*#__PURE__*/_jsx(_Fragment,{children:rows});};//not modular currently!!\nvar Form=function Form(props){function updateGoal(event,state,setState){var tempState=state;tempState.pages[PageID].goals=event.target.value;setState(function(state){console.log(\"Update Goals before:\");console.log(state.pages[PageID].goals);return tempState;});setState(function(state){console.log(\"updateGoals after:\");console.log(state.pages[PageID].goals);});}return/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return event.preventDefault();},onChange:function onChange(event){return updateGoal(event,props.state,props.setState);},className:\"form text-center\",children:[/*#__PURE__*/_jsx(\"label\",{children:props.formID}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:props.state.pages[PageID].goals,onChange:function onChange(event){return props.setState({});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(NotSaved,{}),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-outline-secondary\",type:\"submit\",value:\"Submit\"})]})});};// React.useEffect\n//\n// local form State\n//\n// global state\n//\n// get current global state and set it to goals on component Mount\n// when globalstate.goals changes update local state (useeffect(updatefunction, goals))\n// on form change update local\n// on submit update global and call sendData\n//\n// changes not saved System\n// up to date flag\n// onmount get current global state\n// function that shows warning and asks if you want to save progress on goals form\n// little indicator above goals form\n// onchange upToDate flag is false\n// on sendData upToDate is true\n// (ideally only when goals is mismatched with DB (or at least global state) upToDate is false)\n// Watch video on autosave. like youtube what docs does for this feature","map":{"version":3,"names":["React","Link","useParams","PageID","newPage","notSavedFlag","DayView","props","params","date","console","log","str","state","pages","forEach","value","i","table","goals","Date","toDateString","main","setState","NotSaved","count","ActivitiesTable","useState","hrs","NaN","activity","tableEntry","setTableRow","counter","handleSubmit","event","preventDefault","locked","lock","tempTable","push","id","tempPages","sendData","unlock","alert","nextField","document","getElementById","focus","tablecounterlock","sumHrs","length","row","handleChangeActivity","target","handleChangeHrs","parseFloat","hrsOnEnter","keyCode","JSONStr","JSON","stringify","request","XMLHttpRequest","open","setRequestHeader","addEventListener","status","send","deleteRow","toString","tempA","splice","TableMap","rows","map","item","Form","updateGoal","tempState","formID"],"sources":["/home/dan/Code/hourLogger/my-app/src/DayView.tsx"],"sourcesContent":["import { log } from \"node:console\";\nimport * as React from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport {\n  flattenDiagnosticMessageText,\n  isPropertyAccessChain,\n} from \"typescript\";\nimport \"./App.css\";\nimport type { state } from \"./App\";\nimport { setEnvironmentData } from \"node:worker_threads\";\nimport { getSystemErrorMap } from \"node:util\";\n\ntype row = {\n  id: number;\n  hrs: number;\n  activity: string;\n};\nlet PageID = 0;\nlet newPage = false;\nlet notSavedFlag = true;\nexport type pageData = { goals: string; table: row[]; date: string };\nexport let DayView = (props: { state: state; setState: any }) => {\n  // console.log(document.baseURI);\n  let params = useParams();\n  if (params.date && params.date != \"new\") {\n    console.log(\"saw date param:\");\n    console.log(params.date);\n    let str = params.date;\n    props.state.pages.forEach((value, i) => {\n      if (value.date == str) {\n        PageID = i;\n      }\n    });\n  }\n  if (params.date == \"new\") {\n    // console.log(\"DayView: newPage\");\n    props.state.pages = [\n      { table: [], goals: \"\", date: new Date().toDateString() },\n    ];\n    newPage = true;\n  }\n\n  // console.log(\"Rendering DayView with: \");\n  // console.log(props.state.pages);\n\n  let main = props.state.pages ? (\n    <main className=\"container-fluid \">\n      <div className=\"row bg-secondary justify-content-center display-4\">\n        {props.state.pages[PageID].date}\n      </div>\n      <div className=\"row\">\n        <div className=\"col-lg-6\">\n          <ActivitiesTable state={props.state} setState={props.setState} />\n        </div>\n        <div className=\"col-lg-6\">\n          <Form formID=\"Goals\" state={props.state} setState={props.setState} />\n        </div>\n      </div>\n    </main>\n  ) : (\n    <main>Loading...</main>\n  );\n  return (\n    <div className=\"\">\n      {main}\n      <nav>\n        <Link className=\"col-lg-2 pull-lg-4 btn bg-success\" to=\"/\">\n          Home\n        </Link>\n      </nav>\n    </div>\n  );\n};\nlet NotSaved = () => {\n  if (notSavedFlag) {\n    return (\n      <div className=\"row justify-content-center\">\n        <div className=\"col-sm-4 btn bg-warning\">\n          Warning: Changes to Goals are not saved, click submit button\n        </div>\n      </div>\n    );\n  }\n  return <div className=\"row bg-success\">Field is up saved</div>;\n};\nlet count: number = 0;\nfunction ActivitiesTable(props: { state: state; setState: any }) {\n  let [tableEntry, setTableRow] = React.useState({\n    hrs: NaN,\n    activity: \"enter activitiy\",\n  });\n  function counter(): number {\n    count++;\n    return count;\n  }\n  //handleSubmit adds row entry to activity table\n  function handleSubmit(event: any) {\n    event.preventDefault();\n    // console.log(props.pages[PageID].activity + \"counter:\" + counter());\n    if (!locked()) {\n      lock();\n      let tempTable = props.state.pages[PageID].table;\n      console.log(\"adding row: \" + tableEntry.hrs);\n      tempTable.push({\n        id: counter(),\n        hrs: tableEntry.hrs,\n        activity: tableEntry.activity,\n      });\n\n      let tempPages = props.state.pages;\n      tempPages[PageID].table = tempTable;\n      props.setState(tempPages);\n      setTableRow({\n        hrs: NaN,\n        activity: \"enter activitiy\",\n      });\n      console.log(\"adding row: \" + props.state.pages[PageID].table[0].hrs);\n      props.setState((state: state) => {\n        // console.log(state.pages[PageID].table[0].hrs || NaN);\n        sendData(state);\n      });\n      unlock();\n    } else {\n      alert(\"could not add activity row\");\n    }\n    let nextField = document.getElementById(\"hours\");\n    if (nextField) {\n      nextField.focus();\n    }\n\n    props.setState((value: state) => {\n      // console.log(\"after Adding row:\");\n      // console.log(value.pages[PageID].table);\n      return value;\n    });\n  }\n\n  let tablecounterlock: boolean = false;\n\n  //lock locks table counter\n  function lock() {\n    tablecounterlock = true;\n  }\n\n  //unlock unlocks table counter\n  function unlock() {\n    tablecounterlock = false;\n  }\n  //locked tell you if table counter is locked\n  // @returns boolean\n  function locked(): boolean {\n    return tablecounterlock;\n  }\n\n  function sumHrs(): number {\n    let count = 0;\n    for (let i = 0; i < props.state.pages[PageID].table.length; i++) {\n      let row = props.state.pages[PageID].table[i].hrs;\n      if (row) {\n        console.log(row);\n        count += row;\n      }\n    }\n    return count;\n  }\n\n  //handleChangeActivity updates state of activity on change\n  function handleChangeActivity(event: any) {\n    setTableRow({\n      activity: event.target.value,\n      hrs: tableEntry.hrs,\n    });\n\n    // console.log(props.value[tempPageID].activity);\n  }\n\n  //handleChangeHrs updates state of hrs on change\n  function handleChangeHrs(event: any) {\n    setTableRow({\n      activity: tableEntry.activity,\n      hrs: parseFloat(event.target.value),\n    });\n\n    // console.log(props.pages[PageID].hrs);\n  }\n\n  function hrsOnEnter(event: any) {\n    if (event.keyCode == 13) {\n      event.preventDefault();\n      let nextField = document.getElementById(\"activity\");\n      if (nextField) {\n        nextField.focus();\n      }\n    }\n  }\n\n  // console.log(\n  //   \"ActivityTable rendering\" + props.pages[PageID].table[0].activity\n  // );\n  return (\n    <div>\n      <form className=\" form-group\" onSubmit={handleSubmit}>\n        <table className=\"table\">\n          <thead>\n            <td>Hours</td>\n            <td>description</td>\n          </thead>\n          <tbody>\n            <TableMap state={props.state} setState={props.setState} />\n            <tr>\n              <td>\n                <input\n                  className=\"form-control\"\n                  id=\"hours\"\n                  type=\"number\"\n                  value={tableEntry.hrs}\n                  onChange={handleChangeHrs}\n                  onKeyDown={hrsOnEnter}\n                ></input>\n              </td>\n              <td>\n                <input\n                  className=\"form-control\"\n                  id=\"activity\"\n                  type=\"text\"\n                  value={tableEntry.activity}\n                  onChange={handleChangeActivity}\n                ></input>\n              </td>\n              <td>\n                <input\n                  className=\"form-control btn btn-outline-secondary\"\n                  type=\"submit\"\n                  value=\"+\"\n                />\n              </td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <td>Total: {sumHrs()}</td>\n          </tfoot>\n        </table>\n      </form>\n    </div>\n  );\n}\n\nfunction sendData(state: state) {\n  if (state.pages[PageID]) {\n    // add error handlingprops.pages[PageID].table[1].activity\n    console.log(\"interval send: \" + state.pages[PageID].date);\n    let JSONStr = JSON.stringify(state.pages[PageID]);\n    let request = new XMLHttpRequest();\n    request.open(newPage ? \"post\" : \"put\", \"/update/\");\n    request.setRequestHeader(\"Content-Type\", \"application/json\");\n    request.addEventListener(\"load\", (event) => {\n      console.log(\"XHR Status code: \", request.status);\n      if (request.status === 409) {\n        alert(\"The page you are trying to create already exists\");\n      }\n    });\n    console.log(\"SENDDATA:\");\n    console.log(newPage ? \"post\" : \"put\");\n    console.log(JSONStr);\n    request.send(JSONStr);\n  }\n}\n\n//deleterow deletes row from activity\nfunction deleteRow(id: number, state: state, setState: any) {\n  console.log(\"delete row:\" + \"Id: \" + id.toString());\n  let tempA = state.pages[PageID].table;\n  for (let i = 0; i < tempA.length; i++) {\n    if (tempA[i].id === id) {\n      console.log(i);\n      tempA.splice(i, 1);\n      let pages = state.pages;\n      pages[PageID].table = tempA;\n      setState({ pages });\n    }\n  }\n  console.log(\"DeleteRow:\");\n  console.log(state.pages[PageID].table);\n  sendData(state);\n}\n\n//renderTable returns a react node with table rows corresponding to the activitytable array elements.\nlet TableMap = (props: { state: state; setState: any }) => {\n  let rows = props.state.pages[PageID].table.map((item) => {\n    console.log(\n      \"DayView: renderTable: updating table with row\" + item.id + item.activity\n    );\n    if (item != null) {\n      return (\n        <tr id={item.id.toString()}>\n          <td>{item.hrs}</td>\n          <td>{item.activity}</td>\n          <td>\n            <button\n              className=\"btn btn-secondary\"\n              type=\"button\"\n              onClick={() => deleteRow(item.id, props.state, props.setState)}\n            >\n              X\n            </button>\n          </td>\n        </tr>\n      );\n    } else {\n      console.log(\"DayView: renderTable: map is empty\");\n      return (\n        <tr>\n          <td>No entries... yet, time to get some shit done!</td>\n          <td>empty</td>\n          <td>emtry</td>\n        </tr>\n      );\n    }\n  });\n  return <>{rows}</>;\n};\n\n//not modular currently!!\nlet Form = (props: { formID: string; state: state; setState: any }) => {\n  function updateGoal(event: any, state: state, setState: any) {\n    let tempState = state;\n    tempState.pages[PageID].goals = event.target.value;\n    setState((state: state) => {\n      console.log(\"Update Goals before:\");\n      console.log(state.pages[PageID].goals);\n      return tempState;\n    });\n    setState((state: state) => {\n      console.log(\"updateGoals after:\");\n      console.log(state.pages[PageID].goals);\n    });\n  }\n\n  return (\n    <div className=\"row\">\n      <form\n        onSubmit={(event) => event.preventDefault()}\n        onChange={(event) => updateGoal(event, props.state, props.setState)}\n        className=\"form text-center\"\n      >\n        <label>{props.formID}</label>\n        <br />\n        <textarea\n          className=\"form-control\"\n          value={props.state.pages[PageID].goals}\n          onChange={(event) => props.setState({} as state)}\n        />\n        <br />\n        <NotSaved />\n        <input\n          className=\"btn btn-outline-secondary\"\n          type=\"submit\"\n          value=\"Submit\"\n        />\n      </form>\n    </div>\n  );\n};\n\n// React.useEffect\n//\n// local form State\n//\n// global state\n//\n// get current global state and set it to goals on component Mount\n// when globalstate.goals changes update local state (useeffect(updatefunction, goals))\n// on form change update local\n// on submit update global and call sendData\n//\n// changes not saved System\n// up to date flag\n// onmount get current global state\n// function that shows warning and asks if you want to save progress on goals form\n// little indicator above goals form\n// onchange upToDate flag is false\n// on sendData upToDate is true\n// (ideally only when goals is mismatched with DB (or at least global state) upToDate is false)\n// Watch video on autosave. like youtube what docs does for this feature\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}